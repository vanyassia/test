<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>–ú–Ω–æ–≥–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å–∞–π—Ç</title>
  <!-- –°–∏—Å—Ç–µ–º–Ω—ã–µ –∏ Web-—à—Ä–∏—Ñ—Ç—ã -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    /* –°–±—Ä–æ—Å —Å—Ç–∏–ª–µ–π */
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    html { scroll-behavior: smooth; }
    body {
      font-family: 'Inter', -apple-system, system-ui, sans-serif;
      line-height: 1.6;
      color: #1c1e21;
      background: #f0f2f5;
      display: flex; flex-direction: column;
      min-height: 100vh;
    }
    a { text-decoration: none; color: inherit; }
    button { cursor: pointer; }

    /* –ö–æ—Ä–Ω–µ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ */
    :root {
      --color-primary: #0a66c2;
      --color-bg: #ffffff;
      --color-bg-alt: #f7f9fa;
      --color-text: #1c1e21;
      --color-muted: #65676b;
      --shadow-light: rgba(0,0,0,0.05);
      --radius: 8px;
    }

    /* Header & Nav */
    header {
      position: sticky; top: 0; z-index: 100;
      background: var(--color-bg);
      box-shadow: 0 2px 4px var(--shadow-light);
    }
    .container { width: 90%; max-width: 1200px; margin: 0 auto; }
    .nav-bar {
      display: flex; align-items: center; justify-content: space-between;
      padding: 1rem 0;
    }
    .logo { font-size: 1.5rem; font-weight: 600; color: var(--color-primary); }
    nav {
      display: flex; gap: 1rem;
    }
    nav a {
      padding: 0.5rem 1rem;
      border-radius: var(--radius);
      font-weight: 500;
      transition: background .2s;
    }
    nav a:hover, nav a.active {
      background: var(--color-bg-alt);
    }
    .burger {
      display: none; flex-direction: column; gap: 4px;
      cursor: pointer;
    }
    .burger div {
      width: 24px; height: 3px; background: var(--color-text);
      transition: transform .3s, opacity .3s;
    }

    /* Hero */
    .hero {
      background: linear-gradient(135deg, #0a66c2 0%, #004182 100%);
      color: #fff;
      padding: 4rem 0;
      text-align: center;
    }
    .hero h1 { font-size: 2.5rem; margin-bottom: 1rem; }
    .hero p { font-size: 1.125rem; color: rgba(255,255,255,0.85); }

    /* Sections */
    section {
      padding: 3rem 0;
    }
    .section-title {
      text-align: center;
      font-size: 2rem; margin-bottom: 2rem;
      color: var(--color-primary);
    }

    /* Feature grid */
    .features {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 1.5rem;
    }
    .card {
      background: var(--color-bg);
      border-radius: var(--radius);
      box-shadow: 0 2px 6px var(--shadow-light);
      padding: 1.5rem;
      display: flex; flex-direction: column;
      transition: transform .2s, box-shadow .2s;
    }
    .card:hover {
      transform: translateY(-4px);
      box-shadow: 0 4px 12px var(--shadow-light);
    }
    .card h3 { margin-bottom: 0.75rem; color: var(--color-text); }
    .card p { flex: 1; color: var(--color-muted); font-size: 0.95rem; }
    .card button {
      margin-top: 1rem;
      padding: 0.6rem 1.2rem;
      border: none;
      background: var(--color-primary);
      color: #fff;
      font-weight: 500;
      border-radius: var(--radius);
      transition: background .2s, transform .1s;
    }
    .card button:active { transform: scale(0.97); }

    /* Footer */
    footer {
      text-align: center;
      padding: 1.5rem 0;
      background: var(--color-bg-alt);
      color: var(--color-muted);
      font-size: 0.9rem;
      margin-top: auto;
    }

    /* –ê–¥–∞–ø—Ç–∏–≤ */
    @media (max-width: 768px) {
      nav { display: none; }
      .burger { display: flex; }
      nav.mobile { position: absolute; top: 100%; left: 0; right: 0;
                    background: var(--color-bg); flex-direction: column;
                    padding: 1rem; box-shadow: 0 4px 8px var(--shadow-light);
                    display: none; }
      nav.mobile.show { display: flex; }
    }
  </style>
</head>
<body>

  <!-- Header -->
  <header>
    <div class="container nav-bar">
      <div class="logo">MultiTool</div>
      <nav id="mainNav">
        <a href="#calculator" class="active">–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</a>
        <a href="#battleship">–ú–æ—Ä—Å–∫–æ–π¬†–±–æ–π</a>
        <a href="#guess">–£–≥–∞–¥–∞–π–∫–∞</a>
        <a href="#currency">–ö—É—Ä—Å¬†–≤–∞–ª—é—Ç</a>
        <a href="#askai">–ù–µ–π—Ä–æ—Å–µ—Ç—å</a>
        <a href="#magic">8¬†—à–∞—Ä</a>
        <a href="#coins">–ú–æ–Ω–µ—Ç–∫–∏</a>
        <a href="#fib">–§–∏–±–æ–Ω–∞—á—á–∏</a>
        <a href="#grammar">–ì—Ä–∞–º–º–∞—Ç–∏–∫–∞</a>
        <a href="#baseconv">–°–∏—Å—Ç–µ–º—ã</a>
        <a href="#spellcheck">–ü—Ä–æ–≤–µ—Ä–∫–∞</a>
      </nav>
      <div class="burger" id="burger">
        <div></div><div></div><div></div>
      </div>
    </div>
    <nav class="mobile container" id="mobileNav">
      <!-- –ö–ª–æ–Ω–∏—Ä—É–µ–º —Å—Å—ã–ª–∫–∏ JS -->
    </nav>
  </header>

  <!-- Hero -->
  <section class="hero">
    <div class="container">
      <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ MultiTool</h1>
      <p>–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –æ–¥–Ω–æ–º —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º –≤–µ–±‚Äë–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏: –æ—Ç –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ –¥–æ –º–æ—Ä—Å–∫–æ–≥–æ –±–æ—è –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏.</p>
    </div>
  </section>

  <main class="container">

    <!-- –û–±—â–∞—è —Å–µ—Ç–∫–∞ -->
    <section class="features">

      <div class="card" id="calculator">
        <h3>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</h3>
        <p>–í—ã—á–∏—Å–ª—è–π—Ç–µ –ª—é–±—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ.</p>
        <button onclick="scrollToSection('calculatorSection')">–ü–µ—Ä–µ–π—Ç–∏</button>
      </div>

      <div class="card" id="battleship">
        <h3>–ú–æ—Ä—Å–∫–æ–π –±–æ–π</h3>
        <p>–ò–≥—Ä–∞–π—Ç–µ –ø—Ä–æ—Ç–∏–≤ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ –≤ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –º–æ—Ä—Å–∫–æ–π –±–æ–π.</p>
        <button onclick="scrollToSection('battleshipSection')">–ü–µ—Ä–µ–π—Ç–∏</button>
      </div>

      <div class="card" id="guess">
        <h3>–£–≥–∞–¥–∞–π–∫–∞</h3>
        <p>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç–≥–∞–¥–∞—Ç—å —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 100.</p>
        <button onclick="scrollToSection('guessSection')">–ü–µ—Ä–µ–π—Ç–∏</button>
      </div>

      <div class="card" id="currency">
        <h3>–ö—É—Ä—Å –≤–∞–ª—é—Ç</h3>
        <p>–£–∑–Ω–∞–π—Ç–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –∫—É—Ä—Å –ª—é–±–æ–π –≤–∞–ª—é—Ç—ã.</p>
        <button onclick="scrollToSection('currencySection')">–ü–µ—Ä–µ–π—Ç–∏</button>
      </div>

      <div class="card" id="askai">
        <h3>–í–æ–ø—Ä–æ—Å –Ω–µ–π—Ä–æ—Å–µ—Ç–∏</h3>
        <p>–°–ø—Ä–æ—Å–∏—Ç–µ —á—Ç–æ —É–≥–æ–¥–Ω–æ —É ChatGPT –ø—Ä—è–º–æ –∑–¥–µ—Å—å.</p>
        <button onclick="scrollToSection('aiSection')">–ü–µ—Ä–µ–π—Ç–∏</button>
      </div>

      <div class="card" id="magic">
        <h3>–ú–∞–≥–∏—á–µ—Å–∫–∏–π —à–∞—Ä</h3>
        <p>–ü–æ–ª—É—á–∏—Ç–µ –æ—Ç–≤–µ—Ç –Ω–∞ —Å–≤–æ–π –≤–æ–ø—Ä–æ—Å –∏–∑ 8‚Äë—à–∞—Ä–∞.</p>
        <button onclick="scrollToSection('magicSection')">–ü–µ—Ä–µ–π—Ç–∏</button>
      </div>

      <div class="card" id="coins">
        <h3>–ú–æ–Ω–µ—Ç–∫–∏</h3>
        <p>–ü–æ–ª—É—á–∞–π—Ç–µ –∏ —Ö—Ä–∞–Ω–∏—Ç–µ —Å–≤–æ–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–æ–Ω–µ—Ç–∫–∏.</p>
        <button onclick="scrollToSection('coinsSection')">–ü–µ—Ä–µ–π—Ç–∏</button>
      </div>

      <div class="card" id="fib">
        <h3>–§–∏–±–æ–Ω–∞—á—á–∏</h3>
        <p>–í—ã—á–∏—Å–ª—è–π—Ç–µ —á–∏—Å–ª–∞ –§–∏–±–æ–Ω–∞—á—á–∏ –∑–∞ –º–≥–Ω–æ–≤–µ–Ω–∏–µ.</p>
        <button onclick="scrollToSection('fibSection')">–ü–µ—Ä–µ–π—Ç–∏</button>
      </div>

      <div class="card" id="grammar">
        <h3>–ì—Ä–∞–º–º–∞—Ç–∏–∫–∞</h3>
        <p>–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ç–µ–∫—Å—Ç—ã –Ω–∞ –æ—à–∏–±–∫–∏ —Å –ø–æ–º–æ—â—å—é LanguageTool.</p>
        <button onclick="scrollToSection('grammarSection')">–ü–µ—Ä–µ–π—Ç–∏</button>
      </div>

      <div class="card" id="baseconv">
        <h3>–°–∏—Å—Ç–µ–º—ã —Å—á–∏—Å–ª–µ–Ω–∏—è</h3>
        <p>–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–π—Ç–µ –º–µ–∂–¥—É –ª—é–±—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ —Å—á–∏—Å–ª–µ–Ω–∏—è.</p>
        <button onclick="scrollToSection('baseSection')">–ü–µ—Ä–µ–π—Ç–∏</button>
      </div>

      <div class="card" id="spellcheck">
        <h3>–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–ª–æ–≤–∞</h3>
        <p>–ù–∞–π–¥–∏—Ç–µ –æ–ø–µ—á–∞—Ç–∫–∏ –∏ –ø–æ–ª—É—á–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π.</p>
        <button onclick="scrollToSection('spellSection')">–ü–µ—Ä–µ–π—Ç–∏</button>
      </div>

    </section>

    <!-- –ü–æ–¥—Ä–æ–±–Ω—ã–µ —Å–µ–∫—Ü–∏–∏ -->
    <section id="calculatorSection">
      <h2 class="section-title">–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</h2>
      <div class="card">
        <input id="calcExpr" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 2+3*4">
        <button onclick="doCalc()">–í—ã—á–∏—Å–ª–∏—Ç—å</button>
        <div class="result" id="calcRes"></div>
      </div>
    </section>

    <section id="battleshipSection">
      <h2 class="section-title">–ú–æ—Ä—Å–∫–æ–π –±–æ–π</h2>
      <div class="card">
        <button onclick="startBS()">–ù–æ–≤–∞—è –∏–≥—Ä–∞</button>
        <div class="result" id="bsBoard"></div>
      </div>
    </section>

    <section id="guessSection">
      <h2 class="section-title">–£–≥–∞–¥–∞–π–∫–∞</h2>
      <div class="card">
        <button onclick="startGuess()">–ó–∞–≥–∞–¥–∞—Ç—å —á–∏—Å–ª–æ</button>
        <input type="number" id="guessNum">
        <button onclick="checkGuess()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
        <div class="result" id="guessRes"></div>
      </div>
    </section>

    <section id="currencySection">
      <h2 class="section-title">–ö—É—Ä—Å –≤–∞–ª—é—Ç</h2>
      <div class="card">
        <input id="curBase" placeholder="USD">
        <input id="curTarget" placeholder="RUB">
        <button onclick="getCurrency()">–ü–æ–ª—É—á–∏—Ç—å –∫—É—Ä—Å</button>
        <div class="result" id="curRes"></div>
      </div>
    </section>

    <section id="aiSection">
      <h2 class="section-title">–í–æ–ø—Ä–æ—Å –Ω–µ–π—Ä–æ—Å–µ—Ç–∏</h2>
      <div class="card">
        <textarea id="aiPrompt" rows="3" placeholder="–í–∞—à –≤–æ–ø—Ä–æ—Å"></textarea>
        <button onclick="askAI()">–°–ø—Ä–æ—Å–∏—Ç—å</button>
        <div class="result" id="aiRes"></div>
      </div>
    </section>

    <section id="magicSection">
      <h2 class="section-title">–ú–∞–≥–∏—á–µ—Å–∫–∏–π —à–∞—Ä</h2>
      <div class="card">
        <button onclick="magicBall()">–£–∑–Ω–∞—Ç—å –æ—Ç–≤–µ—Ç</button>
        <div class="result" id="ballRes"></div>
      </div>
    </section>

    <section id="coinsSection">
      <h2 class="section-title">–ú–æ–Ω–µ—Ç–∫–∏</h2>
      <div class="card">
        <button onclick="showCoins()">–ü–æ–ª—É—á–∏—Ç—å –º–æ–Ω–µ—Ç–∫–∏</button>
        <div class="result" id="coinsRes"></div>
      </div>
    </section>

    <section id="fibSection">
      <h2 class="section-title">–§–∏–±–æ–Ω–∞—á—á–∏</h2>
      <div class="card">
        <input type="number" id="fibN" placeholder="n">
        <button onclick="doFib()">–í—ã—á–∏—Å–ª–∏—Ç—å</button>
        <div class="result" id="fibRes"></div>
      </div>
    </section>

    <section id="grammarSection">
      <h2 class="section-title">–ì—Ä–∞–º–º–∞—Ç–∏–∫–∞</h2>
      <div class="card">
        <textarea id="grammarTxt" rows="3" placeholder="–¢–µ–∫—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏"></textarea>
        <button onclick="checkGrammar()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
        <div class="result" id="grammarRes"></div>
      </div>
    </section>

    <section id="baseSection">
      <h2 class="section-title">–°–∏—Å—Ç–µ–º—ã —Å—á–∏—Å–ª–µ–Ω–∏—è</h2>
      <div class="card">
        <input id="baseNum" placeholder="–ß–∏—Å–ª–æ">
        <input type="number" id="baseFrom" placeholder="–ò–∑ (–æ—Å–Ω–æ–≤–∞–Ω–∏–µ)">
        <input type="number" id="baseTo" placeholder="–í (–æ—Å–Ω–æ–≤–∞–Ω–∏–µ)">
        <button onclick="convertBase()">–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
        <div class="result" id="baseRes"></div>
      </div>
    </section>

    <section id="spellSection">
      <h2 class="section-title">–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–ª–æ–≤–∞</h2>
      <div class="card">
        <input id="spellWord" placeholder="–°–ª–æ–≤–æ">
        <button onclick="spellCheck()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
        <div class="result" id="spellRes"></div>
      </div>
    </section>

  </main>

  <footer>
    ¬© 2025 MultiTool ‚Äî –≤—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã
  </footer>

  <!-- –°–∫—Ä–∏–ø—Ç—ã -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.8.0/math.min.js"></script>
  <script>
    // –ö–ª–æ–Ω–∏—Ä—É–µ–º –º–µ–Ω—é –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ
    const mainNav = document.getElementById('mainNav');
    const mobileNav = document.getElementById('mobileNav');
    mobileNav.innerHTML = mainNav.innerHTML;

    // –ë—É—Ä–≥–µ—Ä-–º–µ–Ω—é
    document.getElementById('burger').addEventListener('click', ()=>{
      mobileNav.classList.toggle('show');
    });

    // –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø—É–Ω–∫—Ç–∞
    document.querySelectorAll('nav a').forEach(a=>{
      a.addEventListener('click', e=>{
        document.querySelectorAll('nav a').forEach(x=>x.classList.remove('active'));
        e.target.classList.add('active');
        mobileNav.classList.remove('show');
      });
    });

    // –ü–ª–∞–≤–Ω—ã–π —Å–∫—Ä–æ–ª–ª –∫ —Å–µ–∫—Ü–∏–∏
    function scrollToSection(id) {
      document.getElementById(id).scrollIntoView({ behavior: 'smooth', block: 'start' });
    }

    // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞
    function doCalc() {
      const expr = document.getElementById('calcExpr').value;
      try {
        const res = math.evaluate(expr);
        document.getElementById('calcRes').textContent = `${expr} = ${res}`;
      } catch(e) {
        document.getElementById('calcRes').textContent = '–û—à–∏–±–∫–∞: ' + e.message;
      }
    }

    // –ú–æ—Ä—Å–∫–æ–π –±–æ–π
    let bsField, bsShips;
    function startBS() {
      bsField = Array.from({length:5},()=>Array(5).fill('O'));
      bsShips = new Set();
      while(bsShips.size<3) bsShips.add(`${rand(5)},${rand(5)}`);
      renderBS();
    }
    function renderBS() {
      const board = document.getElementById('bsBoard');
      let html = '<table>';
      bsField.forEach((row,i)=>{
        html += '<tr>';
        row.forEach((c,j)=>{
          html += `<td><button onclick="clickBS(${i},${j})">${c}</button></td>`;
        });
        html += '</tr>';
      });
      html += '</table>';
      board.innerHTML = html;
    }
    function clickBS(i,j) {
      const key = `${i},${j}`;
      if (bsShips.has(key)) {
        bsField[i][j] = '‚úñ'; bsShips.delete(key);
      } else {
        bsField[i][j] = '‚àí';
      }
      renderBS();
      if (!bsShips.size) alert('–í—Å–µ –∫–æ—Ä–∞–±–ª–∏ –ø–æ—Ç–æ–ø–ª–µ–Ω—ã! üéâ');
    }

    // –£–≥–∞–¥–∞–π–∫–∞
    let guessSecret;
    function startGuess() {
      guessSecret = rand(100)+1;
      document.getElementById('guessRes').textContent = '–Ø –∑–∞–≥–∞–¥–∞–ª —á–∏—Å–ª–æ. –£–≥–∞–¥–∞–π—Ç–µ!';
    }
    function checkGuess() {
      const num = +document.getElementById('guessNum').value;
      let msg = '';
      if (num < guessSecret) msg = '–ë–æ–ª—å—à–µ!';
      else if (num > guessSecret) msg = '–ú–µ–Ω—å—à–µ!';
      else msg = '–£–≥–∞–¥–∞–ª–∏! üéâ';
      document.getElementById('guessRes').textContent = msg;
    }

    // –ö—É—Ä—Å –≤–∞–ª—é—Ç
    async function getCurrency() {
      const base = (document.getElementById('curBase').value || 'USD').toUpperCase();
      const tgt  = (document.getElementById('curTarget').value || 'RUB').toUpperCase();
      try {
        const j = await (await fetch(`https://api.exchangerate.host/latest?base=${base}&symbols=${tgt}`)).json();
        document.getElementById('curRes').textContent =
          j.success ? `1 ${base} = ${j.rates[tgt].toFixed(4)} ${tgt}` : '–û—à–∏–±–∫–∞ API';
      } catch {
        document.getElementById('curRes').textContent = '–°–µ—Ç–µ–≤–∞—è –æ—à–∏–±–∫–∞';
      }
    }

    // –í–æ–ø—Ä–æ—Å –Ω–µ–π—Ä–æ—Å–µ—Ç–∏
    async function askAI() {
      const prompt = document.getElementById('aiPrompt').value;
      const key = ''; // –≤—Å—Ç–∞–≤—å—Ç–µ OPENAI_API_KEY
      if (!key) return document.getElementById('aiRes').textContent = '–£–∫–∞–∂–∏—Ç–µ API‚Äë–∫–ª—é—á';
      try {
        const res = await fetch('https://api.openai.com/v1/chat/completions',{
          method:'POST',
          headers:{'Content-Type':'application/json','Authorization':'Bearer '+key},
          body: JSON.stringify({model:'gpt-3.5-turbo', messages:[{role:'user', content:prompt}]})
        });
        const j = await res.json();
        document.getElementById('aiRes').textContent = j.choices?.[0]?.message?.content || '–û—à–∏–±–∫–∞.';
      } catch {
        document.getElementById('aiRes').textContent = '–û—à–∏–±–∫–∞ OpenAI';
      }
    }

    // –ú–∞–≥–∏—á–µ—Å–∫–∏–π —à–∞—Ä
    const BALL = ["–î–∞","–ù–µ—Ç","–í–æ–∑–º–æ–∂–Ω–æ","–°–ø—Ä–æ—Å–∏ –ø–æ–∑–∂–µ","–û–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ –¥–∞","–í—Ä—è–¥ –ª–∏"];
    function magicBall() {
      document.getElementById('ballRes').textContent = BALL[rand(BALL.length)];
    }

    // –ú–æ–Ω–µ—Ç–∫–∏
    function showCoins() {
      let c = +localStorage.getItem('coins') || 0;
      const d = rand(10);
      c += d;
      localStorage.setItem('coins', c);
      document.getElementById('coinsRes').textContent = `–£ –≤–∞—Å ${c} –º–æ–Ω–µ—Ç–æ–∫ (+${d})`;
    }

    // –§–∏–±–æ–Ω–∞—á—á–∏
    function doFib() {
      const n = +document.getElementById('fibN').value;
      let a=0,b=1;
      for (let i=0; i<n; i++) [a,b] = [b, a+b];
      document.getElementById('fibRes').textContent = `Fib(${n}) = ${a}`;
    }

    // –ì—Ä–∞–º–º–∞—Ç–∏–∫–∞
    async function checkGrammar() {
      const txt = document.getElementById('grammarTxt').value;
      try {
        const p = new URLSearchParams({ text: txt, language: 'ru' });
        const j = await (await fetch('https://api.languagetool.org/v2/check',{ method:'POST', body: p })).json();
        const out = !j.matches.length
          ? '–û—à–∏–±–æ–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ'
          : j.matches.slice(0,3).map(m=>m.message).join('<br>');
        document.getElementById('grammarRes').innerHTML = out;
      } catch {
        document.getElementById('grammarRes').textContent = '–û—à–∏–±–∫–∞ grammar';
      }
    }

    // –°–∏—Å—Ç–µ–º—ã —Å—á–∏—Å–ª–µ–Ω–∏—è
    function convertBase() {
      const num = document.getElementById('baseNum').value;
      const f = +document.getElementById('baseFrom').value;
      const t = +document.getElementById('baseTo').value;
      try {
        const dec = parseInt(num, f);
        const out = dec.toString(t).toUpperCase();
        document.getElementById('baseRes').textContent =
          `${num}(base${f}) ‚Üí ${out}(base${t})`;
      } catch {
        document.getElementById('baseRes').textContent = '–û—à–∏–±–∫–∞';
      }
    }

    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–ª–æ–≤–∞
    async function spellCheck() {
      const w = document.getElementById('spellWord').value;
      try {
        const p = new URLSearchParams({ text: w, language: 'ru' });
        const j = await (await fetch('https://api.languagetool.org/v2/check',{ method:'POST', body: p })).json();
        if (!j.matches.length) {
          document.getElementById('spellRes').textContent = '–û—à–∏–±–æ–∫ –Ω–µ—Ç';
        } else {
          const reps = j.matches[0].replacements.map(r=>r.value).slice(0,5);
          document.getElementById('spellRes').textContent = '–í–æ–∑–º–æ–∂–Ω–æ: ' + reps.join(', ');
        }
      } catch {
        document.getElementById('spellRes').textContent = '–û—à–∏–±–∫–∞ spellcheck';
      }
    }

    // –£—Ç–∏–ª–∏—Ç–∞
    function rand(n){ return Math.floor(Math.random()*n); }
  </script>
</body>
</html>
