<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Многофункциональный сайт</title>
  <!-- Системные и Web-шрифты -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    /* Сброс стилей */
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    html { scroll-behavior: smooth; }
    body {
      font-family: 'Inter', -apple-system, system-ui, sans-serif;
      line-height: 1.6;
      color: #1c1e21;
      background: #f0f2f5;
      display: flex; flex-direction: column;
      min-height: 100vh;
    }
    a { text-decoration: none; color: inherit; }
    button { cursor: pointer; }

    /* Корневые переменные */
    :root {
      --color-primary: #0a66c2;
      --color-bg: #ffffff;
      --color-bg-alt: #f7f9fa;
      --color-text: #1c1e21;
      --color-muted: #65676b;
      --shadow-light: rgba(0,0,0,0.05);
      --radius: 8px;
    }

    /* Header & Nav */
    header {
      position: sticky; top: 0; z-index: 100;
      background: var(--color-bg);
      box-shadow: 0 2px 4px var(--shadow-light);
    }
    .container { width: 90%; max-width: 1200px; margin: 0 auto; }
    .nav-bar {
      display: flex; align-items: center; justify-content: space-between;
      padding: 1rem 0;
    }
    .logo { font-size: 1.5rem; font-weight: 600; color: var(--color-primary); }
    nav {
      display: flex; gap: 1rem;
    }
    nav a {
      padding: 0.5rem 1rem;
      border-radius: var(--radius);
      font-weight: 500;
      transition: background .2s;
    }
    nav a:hover, nav a.active {
      background: var(--color-bg-alt);
    }
    .burger {
      display: none; flex-direction: column; gap: 4px;
      cursor: pointer;
    }
    .burger div {
      width: 24px; height: 3px; background: var(--color-text);
      transition: transform .3s, opacity .3s;
    }

    /* Hero */
    .hero {
      background: linear-gradient(135deg, #0a66c2 0%, #004182 100%);
      color: #fff;
      padding: 4rem 0;
      text-align: center;
    }
    .hero h1 { font-size: 2.5rem; margin-bottom: 1rem; }
    .hero p { font-size: 1.125rem; color: rgba(255,255,255,0.85); }

    /* Sections */
    section {
      padding: 3rem 0;
    }
    .section-title {
      text-align: center;
      font-size: 2rem; margin-bottom: 2rem;
      color: var(--color-primary);
    }

    /* Feature grid */
    .features {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 1.5rem;
    }
    .card {
      background: var(--color-bg);
      border-radius: var(--radius);
      box-shadow: 0 2px 6px var(--shadow-light);
      padding: 1.5rem;
      display: flex; flex-direction: column;
      transition: transform .2s, box-shadow .2s;
    }
    .card:hover {
      transform: translateY(-4px);
      box-shadow: 0 4px 12px var(--shadow-light);
    }
    .card h3 { margin-bottom: 0.75rem; color: var(--color-text); }
    .card p { flex: 1; color: var(--color-muted); font-size: 0.95rem; }
    .card button {
      margin-top: 1rem;
      padding: 0.6rem 1.2rem;
      border: none;
      background: var(--color-primary);
      color: #fff;
      font-weight: 500;
      border-radius: var(--radius);
      transition: background .2s, transform .1s;
    }
    .card button:active { transform: scale(0.97); }

    /* Footer */
    footer {
      text-align: center;
      padding: 1.5rem 0;
      background: var(--color-bg-alt);
      color: var(--color-muted);
      font-size: 0.9rem;
      margin-top: auto;
    }

    /* Адаптив */
    @media (max-width: 768px) {
      nav { display: none; }
      .burger { display: flex; }
      nav.mobile { position: absolute; top: 100%; left: 0; right: 0;
                    background: var(--color-bg); flex-direction: column;
                    padding: 1rem; box-shadow: 0 4px 8px var(--shadow-light);
                    display: none; }
      nav.mobile.show { display: flex; }
    }
  </style>
</head>
<body>

  <!-- Header -->
  <header>
    <div class="container nav-bar">
      <div class="logo">MultiTool</div>
      <nav id="mainNav">
        <a href="#calculator" class="active">Калькулятор</a>
        <a href="#battleship">Морской бой</a>
        <a href="#guess">Угадайка</a>
        <a href="#currency">Курс валют</a>
        <a href="#askai">Нейросеть</a>
        <a href="#magic">8 шар</a>
        <a href="#coins">Монетки</a>
        <a href="#fib">Фибоначчи</a>
        <a href="#grammar">Грамматика</a>
        <a href="#baseconv">Системы</a>
        <a href="#spellcheck">Проверка</a>
      </nav>
      <div class="burger" id="burger">
        <div></div><div></div><div></div>
      </div>
    </div>
    <nav class="mobile container" id="mobileNav">
      <!-- Клонируем ссылки JS -->
    </nav>
  </header>

  <!-- Hero -->
  <section class="hero">
    <div class="container">
      <h1>Добро пожаловать в MultiTool</h1>
      <p>Все функции в одном современном веб‑приложении: от калькулятора до морского боя и проверки грамматики.</p>
    </div>
  </section>

  <main class="container">

    <!-- Общая сетка -->
    <section class="features">

      <div class="card" id="calculator">
        <h3>Калькулятор</h3>
        <p>Вычисляйте любые выражения мгновенно.</p>
        <button onclick="scrollToSection('calculatorSection')">Перейти</button>
      </div>

      <div class="card" id="battleship">
        <h3>Морской бой</h3>
        <p>Играйте против компьютера в классический морской бой.</p>
        <button onclick="scrollToSection('battleshipSection')">Перейти</button>
      </div>

      <div class="card" id="guess">
        <h3>Угадайка</h3>
        <p>Попробуйте отгадать число от 1 до 100.</p>
        <button onclick="scrollToSection('guessSection')">Перейти</button>
      </div>

      <div class="card" id="currency">
        <h3>Курс валют</h3>
        <p>Узнайте актуальный курс любой валюты.</p>
        <button onclick="scrollToSection('currencySection')">Перейти</button>
      </div>

      <div class="card" id="askai">
        <h3>Вопрос нейросети</h3>
        <p>Спросите что угодно у ChatGPT прямо здесь.</p>
        <button onclick="scrollToSection('aiSection')">Перейти</button>
      </div>

      <div class="card" id="magic">
        <h3>Магический шар</h3>
        <p>Получите ответ на свой вопрос из 8‑шара.</p>
        <button onclick="scrollToSection('magicSection')">Перейти</button>
      </div>

      <div class="card" id="coins">
        <h3>Монетки</h3>
        <p>Получайте и храните свои виртуальные монетки.</p>
        <button onclick="scrollToSection('coinsSection')">Перейти</button>
      </div>

      <div class="card" id="fib">
        <h3>Фибоначчи</h3>
        <p>Вычисляйте числа Фибоначчи за мгновение.</p>
        <button onclick="scrollToSection('fibSection')">Перейти</button>
      </div>

      <div class="card" id="grammar">
        <h3>Грамматика</h3>
        <p>Проверяйте тексты на ошибки с помощью LanguageTool.</p>
        <button onclick="scrollToSection('grammarSection')">Перейти</button>
      </div>

      <div class="card" id="baseconv">
        <h3>Системы счисления</h3>
        <p>Конвертируйте между любыми системами счисления.</p>
        <button onclick="scrollToSection('baseSection')">Перейти</button>
      </div>

      <div class="card" id="spellcheck">
        <h3>Проверка слова</h3>
        <p>Найдите опечатки и получите варианты исправлений.</p>
        <button onclick="scrollToSection('spellSection')">Перейти</button>
      </div>

    </section>

    <!-- Подробные секции -->
    <section id="calculatorSection">
      <h2 class="section-title">Калькулятор</h2>
      <div class="card">
        <input id="calcExpr" placeholder="Например: 2+3*4">
        <button onclick="doCalc()">Вычислить</button>
        <div class="result" id="calcRes"></div>
      </div>
    </section>

    <section id="battleshipSection">
      <h2 class="section-title">Морской бой</h2>
      <div class="card">
        <button onclick="startBS()">Новая игра</button>
        <div class="result" id="bsBoard"></div>
      </div>
    </section>

    <section id="guessSection">
      <h2 class="section-title">Угадайка</h2>
      <div class="card">
        <button onclick="startGuess()">Загадать число</button>
        <input type="number" id="guessNum">
        <button onclick="checkGuess()">Проверить</button>
        <div class="result" id="guessRes"></div>
      </div>
    </section>

    <section id="currencySection">
      <h2 class="section-title">Курс валют</h2>
      <div class="card">
        <input id="curBase" placeholder="USD">
        <input id="curTarget" placeholder="RUB">
        <button onclick="getCurrency()">Получить курс</button>
        <div class="result" id="curRes"></div>
      </div>
    </section>

    <section id="aiSection">
      <h2 class="section-title">Вопрос нейросети</h2>
      <div class="card">
        <textarea id="aiPrompt" rows="3" placeholder="Ваш вопрос"></textarea>
        <button onclick="askAI()">Спросить</button>
        <div class="result" id="aiRes"></div>
      </div>
    </section>

    <section id="magicSection">
      <h2 class="section-title">Магический шар</h2>
      <div class="card">
        <button onclick="magicBall()">Узнать ответ</button>
        <div class="result" id="ballRes"></div>
      </div>
    </section>

    <section id="coinsSection">
      <h2 class="section-title">Монетки</h2>
      <div class="card">
        <button onclick="showCoins()">Получить монетки</button>
        <div class="result" id="coinsRes"></div>
      </div>
    </section>

    <section id="fibSection">
      <h2 class="section-title">Фибоначчи</h2>
      <div class="card">
        <input type="number" id="fibN" placeholder="n">
        <button onclick="doFib()">Вычислить</button>
        <div class="result" id="fibRes"></div>
      </div>
    </section>

    <section id="grammarSection">
      <h2 class="section-title">Грамматика</h2>
      <div class="card">
        <textarea id="grammarTxt" rows="3" placeholder="Текст для проверки"></textarea>
        <button onclick="checkGrammar()">Проверить</button>
        <div class="result" id="grammarRes"></div>
      </div>
    </section>

    <section id="baseSection">
      <h2 class="section-title">Системы счисления</h2>
      <div class="card">
        <input id="baseNum" placeholder="Число">
        <input type="number" id="baseFrom" placeholder="Из (основание)">
        <input type="number" id="baseTo" placeholder="В (основание)">
        <button onclick="convertBase()">Конвертировать</button>
        <div class="result" id="baseRes"></div>
      </div>
    </section>

    <section id="spellSection">
      <h2 class="section-title">Проверка слова</h2>
      <div class="card">
        <input id="spellWord" placeholder="Слово">
        <button onclick="spellCheck()">Проверить</button>
        <div class="result" id="spellRes"></div>
      </div>
    </section>

  </main>

  <footer>
    © 2025 MultiTool — все права защищены
  </footer>

  <!-- Скрипты -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.8.0/math.min.js"></script>
  <script>
    // Клонируем меню для мобильного
    const mainNav = document.getElementById('mainNav');
    const mobileNav = document.getElementById('mobileNav');
    mobileNav.innerHTML = mainNav.innerHTML;

    // Бургер-меню
    document.getElementById('burger').addEventListener('click', ()=>{
      mobileNav.classList.toggle('show');
    });

    // Подсветка активного пункта
    document.querySelectorAll('nav a').forEach(a=>{
      a.addEventListener('click', e=>{
        document.querySelectorAll('nav a').forEach(x=>x.classList.remove('active'));
        e.target.classList.add('active');
        mobileNav.classList.remove('show');
      });
    });

    // Плавный скролл к секции
    function scrollToSection(id) {
      document.getElementById(id).scrollIntoView({ behavior: 'smooth', block: 'start' });
    }

    // Функции для каждого раздела
    function doCalc() {
      const expr = document.getElementById('calcExpr').value;
      try {
        const res = math.evaluate(expr);
        document.getElementById('calcRes').textContent = `${expr} = ${res}`;
      } catch(e) {
        document.getElementById('calcRes').textContent = 'Ошибка: ' + e.message;
      }
    }

    // Морской бой
    let bsField, bsShips;
    function startBS() {
      bsField = Array.from({length:5},()=>Array(5).fill('O'));
      bsShips = new Set();
      while(bsShips.size<3) bsShips.add(`${rand(5)},${rand(5)}`);
      renderBS();
    }
    function renderBS() {
      const board = document.getElementById('bsBoard');
      let html = '<table>';
      bsField.forEach((row,i)=>{
        html += '<tr>';
        row.forEach((c,j)=>{
          html += `<td><button onclick="clickBS(${i},${j})">${c}</button></td>`;
        });
        html += '</tr>';
      });
      html += '</table>';
      board.innerHTML = html;
    }
    function clickBS(i,j) {
      const key = `${i},${j}`;
      if (bsShips.has(key)) {
        bsField[i][j] = '✖'; bsShips.delete(key);
      } else {
        bsField[i][j] = '−';
      }
      renderBS();
      if (!bsShips.size) alert('Все корабли потоплены! 🎉');
    }

    // Угадайка
    let guessSecret;
    function startGuess() {
      guessSecret = rand(100)+1;
      document.getElementById('guessRes').textContent = 'Я загадал число. Угадайте!';
    }
    function checkGuess() {
      const num = +document.getElementById('guessNum').value;
      let msg = '';
      if (num < guessSecret) msg = 'Больше!';
      else if (num > guessSecret) msg = 'Меньше!';
      else msg = 'Угадали! 🎉';
      document.getElementById('guessRes').textContent = msg;
    }

    // Курс валют
    async function getCurrency() {
      const base = (document.getElementById('curBase').value || 'USD').toUpperCase();
      const tgt  = (document.getElementById('curTarget').value || 'RUB').toUpperCase();
      try {
        const j = await (await fetch(`https://api.exchangerate.host/latest?base=${base}&symbols=${tgt}`)).json();
        document.getElementById('curRes').textContent =
          j.success ? `1 ${base} = ${j.rates[tgt].toFixed(4)} ${tgt}` : 'Ошибка API';
      } catch {
        document.getElementById('curRes').textContent = 'Сетевая ошибка';
      }
    }

    // Вопрос нейросети
    async function askAI() {
      const prompt = document.getElementById('aiPrompt').value;
      const key = ''; // вставьте OPENAI_API_KEY
      if (!key) return document.getElementById('aiRes').textContent = 'Укажите API‑ключ';
      try {
        const res = await fetch('https://api.openai.com/v1/chat/completions',{
          method:'POST',
          headers:{'Content-Type':'application/json','Authorization':'Bearer '+key},
          body: JSON.stringify({model:'gpt-3.5-turbo', messages:[{role:'user', content:prompt}]})
        });
        const j = await res.json();
        document.getElementById('aiRes').textContent = j.choices?.[0]?.message?.content || 'Ошибка.';
      } catch {
        document.getElementById('aiRes').textContent = 'Ошибка OpenAI';
      }
    }

    // Магический шар
    const BALL = ["Да","Нет","Возможно","Спроси позже","Определённо да","Вряд ли"];
    function magicBall() {
      document.getElementById('ballRes').textContent = BALL[rand(BALL.length)];
    }

    // Монетки
    function showCoins() {
      let c = +localStorage.getItem('coins') || 0;
      const d = rand(10);
      c += d;
      localStorage.setItem('coins', c);
      document.getElementById('coinsRes').textContent = `У вас ${c} монеток (+${d})`;
    }

    // Фибоначчи
    function doFib() {
      const n = +document.getElementById('fibN').value;
      let a=0,b=1;
      for (let i=0; i<n; i++) [a,b] = [b, a+b];
      document.getElementById('fibRes').textContent = `Fib(${n}) = ${a}`;
    }

    // Грамматика
    async function checkGrammar() {
      const txt = document.getElementById('grammarTxt').value;
      try {
        const p = new URLSearchParams({ text: txt, language: 'ru' });
        const j = await (await fetch('https://api.languagetool.org/v2/check',{ method:'POST', body: p })).json();
        const out = !j.matches.length
          ? 'Ошибок не найдено'
          : j.matches.slice(0,3).map(m=>m.message).join('<br>');
        document.getElementById('grammarRes').innerHTML = out;
      } catch {
        document.getElementById('grammarRes').textContent = 'Ошибка grammar';
      }
    }

    // Системы счисления
    function convertBase() {
      const num = document.getElementById('baseNum').value;
      const f = +document.getElementById('baseFrom').value;
      const t = +document.getElementById('baseTo').value;
      try {
        const dec = parseInt(num, f);
        const out = dec.toString(t).toUpperCase();
        document.getElementById('baseRes').textContent =
          `${num}(base${f}) → ${out}(base${t})`;
      } catch {
        document.getElementById('baseRes').textContent = 'Ошибка';
      }
    }

    // Проверка слова
    async function spellCheck() {
      const w = document.getElementById('spellWord').value;
      try {
        const p = new URLSearchParams({ text: w, language: 'ru' });
        const j = await (await fetch('https://api.languagetool.org/v2/check',{ method:'POST', body: p })).json();
        if (!j.matches.length) {
          document.getElementById('spellRes').textContent = 'Ошибок нет';
        } else {
          const reps = j.matches[0].replacements.map(r=>r.value).slice(0,5);
          document.getElementById('spellRes').textContent = 'Возможно: ' + reps.join(', ');
        }
      } catch {
        document.getElementById('spellRes').textContent = 'Ошибка spellcheck';
      }
    }

    // Утилита
    function rand(n){ return Math.floor(Math.random()*n); }
  </script>
</body>
</html>
